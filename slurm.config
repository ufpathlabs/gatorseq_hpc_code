
singularity {
    enabled = true
    cacheDir = "${params.Containers_Cache_Dir}"
}

process {
 withName: bwa_map_sort 
    {
        errorStrategy='retry'
        maxRetries=1
		executor='slurm'
		clusterOptions = "--no-requeue --account=chamala --qos=chamala --time=10:15:00 --mem-per-cpu=3gb --cpus-per-task=8  --ntasks=1 --nodes=1"
        container = "${params.DOCKER_BWA_SAMBAMBA}" 
   }

 withName: merging
    {
        errorStrategy='retry'
        maxRetries=1
        executor='slurm'
        clusterOptions = "--no-requeue --account=chamala --qos=chamala --time=10:15:00 --mem-per-cpu=3gb --cpus-per-task=8  --ntasks=1 --nodes=1"
        container = "${params.DOCKER_BWA_SAMBAMBA}" 

   }

 withName: vardict
    {
        errorStrategy='retry'
        maxRetries=0
        executor='slurm'
        clusterOptions = "--no-requeue --account=chamala --qos=chamala --time=10:15:00 --mem-per-cpu=3gb --cpus-per-task=8  --ntasks=1 --nodes=1"
        container = "${params.DOCKER_VARDICTJAVA}" 

   }

 withName: vepAnnot
    {
        errorStrategy='retry'
        maxRetries=1
        executor='slurm'
        clusterOptions = "--no-requeue --account=chamala --qos=chamala --time=10:15:00 --mem-per-cpu=3gb --cpus-per-task=1  --ntasks=1 --nodes=1"
        container = 'docker://harsh0280/vep:1.0'

   }

 withName: iCallSV
    {
        errorStrategy='retry'
        maxRetries=1
        executor='slurm'
        clusterOptions = "--no-requeue --account=chamala --qos=chamala --time=10:15:00 --mem-per-cpu=3gb --cpus-per-task=8  --ntasks=1 --nodes=1"
        container = "${params.DOCKER_ICALLSV}" 

   }
   
 withName: mSINGS 
    {
        errorStrategy='retry'
        maxRetries=1
        executor='slurm'
        clusterOptions = "--no-requeue --account=chamala --qos=chamala --time=10:15:00 --mem-per-cpu=3gb --cpus-per-task=8  --ntasks=1 --nodes=1"
        container = "${params.DOCKER_MSINGS}"

   }
   
  withName: generate_metrics_file
    {
        errorStrategy='retry'
        maxRetries=1
        executor='slurm'
        clusterOptions = "--no-requeue --account=chamala --qos=chamala --time=10:15:00 --mem-per-cpu=3gb --cpus-per-task=8  --ntasks=1 --nodes=1"
        container = "${params.DOCKER_GENERATEMETRICS}" 

   }
   
   withName: merge_log_benchmark_files
    {
        errorStrategy='retry'
        maxRetries=1
        executor='slurm'
        clusterOptions = "--no-requeue --account=chamala --qos=chamala --time=10:15:00 --mem-per-cpu=3gb --cpus-per-task=8  --ntasks=1 --nodes=1"
        container = "${params.DOCKER_GENERATEMETRICS}" 

   }
}

